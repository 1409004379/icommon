module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=41)}({1:function(e,t,n){"use strict";n.r(t),t.default={isAndroid:function(){var e=navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Adr")>-1},isIOS:function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},isPC:function(){return!this.isAndroid()&&!this.isIOS()},isICity:function(){return"inspur icity"==window.navigator.userAgent.toLowerCase().match(/Inspur ICity/i)},isWeChat:function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},isDtdream:function(){return"dtdream"==navigator.userAgent.toLowerCase().match(/dtdream/i)},getOSType:function(){return this.isAndroid()?"android":this.isIOS()?"ios":"unknow"},getBrowserType:function(){return this.isICity()?"icity":this.isWeChat()?"wechat":this.isDtdream()?"dtdream":"others"},isLowOSVersion:function(){var e=navigator.userAgent.toLowerCase();if(this.isIOS()){var t=e.indexOf("iPhone OS "),n=e.substring(t+10,t+12);return Number(n)<11}if(this.isAndroid()){var i=e.indexOf("chrome/"),o=e.substring(i+7,i+9);return Number(o)<50}}}},3:function(e,t,n){"use strict";var i=n(1);t.a={appKey:"",use:function(e){this.appKey=e.appKey,this.install(this.appKey,e.domain||"https://ingrach.icity24.cn")},install:function(e,t){window.Countly=window.Countly||{},window.Countly.q=window.Countly.q||[],window.Countly.app_key=e,window.Countly.url=t,window.Countly.q.push(["track_sessions"]),window.Countly.q.push(["track_pageview"]),window.Countly.q.push(["track_errors"]);var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://cdn.jsdelivr.net/countly-sdk-web/latest/countly.min.js",n.onload=function(){window.Countly.init()};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)},pv:function(e){e&&window.Countly.q.push(["track_pageview",e])},startEvent:function(e){window.Countly.q.push(["start_event",e])},endEvent:function(e){this.event({event:"end_event",key:e})},event:function(e){this.fetchHeaders().then(function(t){window.Countly.q.push([e.event||"add_event",{key:e.key,count:1,segmentation:Object.assign({_source:"h5",_isicityapp:i.default.isICity(),_app_version:t.version,_city_code:t.cityCode,_device_id:t.deviceId,_open_id:t.openId,_environment:i.default.getBrowserType(),_os:i.default.getOSType()},t.appInfo,e.value||{})}])}).catch(function(e){console.log(e)})},fetchHeaders:function(){return Promise.all([this.getDeviceId(),this.getOpenId(),this.getAppInfo()]).then(function(e){return{version:window.iCityBridge?window.iCityBridge.getVersion():"",cityCode:window.iCityBridge?window.iCityBridge.getCityCode():"",deviceId:e.length>0?e[0]:"",openId:e.length>1?e[1]:"",appInfo:e.length>2?e[2]:{}}})},_openId:null,getOpenId:function(){var e=this;return new Promise(function(t,n){i.default.isICity()&&window.iCityBridge?e._openId?t(e._openId):window.iCityBridge.getOpenId(function(n){e._openId=n.data.openId,t(e._openId)}):t("")})},_deviceId:null,getDeviceId:function(){var e=this;return new Promise(function(t,n){var o=localStorage.getItem("cly_id");i.default.isICity()&&window.iCityBridge?e._deviceId?t(e._deviceId):window.iCityBridge.getData({type:"deviceInfo"},function(n){e._deviceId=n.deviceToken||o,t(e._deviceId)}):t(o)})},_userInfo:null,getAppInfo:function(){var e=this;return new Promise(function(t,n){if(i.default.isICity()&&window.iCityBridge){var o=e._userInfo||window.iCityBridge.getUserInfo();e._userInfo||(e._userInfo=o),t({_platform_code:o.platformCode,_module_code:o.moduleCode,_content_id:o.contentId,_content_code:o.contentCode,_content_type:o.contentType,_content_name:o.contentName})}else t({})})}}},41:function(e,t,n){"use strict";n.r(t);var i=n(3);t.default={prefix:"",isSign:!0,appName:"",config:function(e){i.a.use(e),this.prefix=e.prefix,this.appName=e.appName,e.hasOwnProperty("isSign")&&(this.isSign=e.isSign),this.startAutoCollect()},analyse:function(){},pv:function(e){i.a.pv(this.createKey(e))},startPage:function(e){i.a.startEvent(this.createKey(e))},endPage:function(e){i.a.endEvent(this.createKey(e))},event:function(e,t){i.a.event({key:this.createKey(e),value:t})},createKey:function(e){var t="";if(this.isSign&&window.iCityBridge){var n=window.iCityBridge.getCityCode();t+=n?n+"-":""}return this.appName&&(t+=this.appName+"-"),this.prefix&&(t+=this.prefix+"-"),t+e},startAutoCollect:function(){var e=this;window.addEventListener("click",function(t){var n=t.target;if(n){var i=null,o=0;do{var r=n.attributes.idot;if(r){e.event(r.value);break}i=n,n=t.target.parentNode,o++}while(n&&i!=n&&o<10)}})},router:function(e){}}}});